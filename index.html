<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Café That Remembers You</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            overflow: hidden;
            background: #2d2416;
        }

        #story-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            pointer-events: none;
        }

        .scene.active {
            opacity: 1;
            pointer-events: all;
        }

        svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        .clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .clickable:hover {
            filter: brightness(1.3) drop-shadow(0 0 30px rgba(255, 220, 150, 1));
            transform: scale(1.05);
        }

        .story-hint {
            font-family: 'Georgia', serif;
            font-size: 24px;
            fill: #ffe4b5;
            text-anchor: middle;
            opacity: 0.9;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .click-label {
            font-family: 'Georgia', serif;
            font-size: 20px;
            fill: #ffd700;
            text-anchor: middle;
            font-weight: bold;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
            pointer-events: none;
        }

        .click-border {
            stroke: #ffd700;
            stroke-width: 3;
            fill: none;
            opacity: 0.6;
            animation: pulse-border 2s ease-in-out infinite;
        }

        @keyframes pulse-border {
            0%, 100% { opacity: 0.6; stroke-width: 3; }
            50% { opacity: 1; stroke-width: 5; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes glow {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        @keyframes steamRise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) scale(1.5);
                opacity: 0;
            }
        }

        @keyframes shimmer {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3) drop-shadow(0 0 10px rgba(255, 200, 100, 0.6)); }
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        .float-animation {
            animation: float 3s ease-in-out infinite;
        }

        .glow-animation {
            animation: glow 2s ease-in-out infinite;
        }

        .shimmer-animation {
            animation: shimmer 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div id="story-container">
        <!-- SCENE 1: ARRIVAL AT THE MAGICAL CAFÉ -->
        <div id="scene1" class="scene active">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="warmLight" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#fff4e6;stop-opacity:0.9" />
                        <stop offset="100%" style="stop-color:#d4a574;stop-opacity:0.6" />
                    </linearGradient>
                    <filter id="softGlow">
                        <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                    <radialGradient id="lightGlow" cx="50%" cy="50%" r="50%">
                        <stop offset="0%" style="stop-color:#ffe4b5;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#d4a574;stop-opacity:0" />
                    </radialGradient>
                </defs>

                <!-- Background Image -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.85"/>

                <!-- Overlay for warmth -->
                <rect width="1200" height="800" fill="url(#warmLight)" opacity="0.3"/>

                <!-- Wooden Counter -->
                <ellipse cx="600" cy="650" rx="500" ry="80" fill="#3d2817" opacity="0.8"/>
                <rect x="100" y="580" width="1000" height="70" fill="#4a3420" rx="10"/>
                <rect x="100" y="590" width="1000" height="10" fill="#5d4227" rx="5"/>

                <!-- Pastries on counter -->
                <g id="pastries">
                    <ellipse cx="250" cy="600" rx="40" ry="25" fill="#d4a574" opacity="0.9"/>
                    <ellipse cx="250" cy="595" rx="35" ry="20" fill="#e6c8a0"/>
                    <ellipse cx="350" cy="605" rx="35" ry="20" fill="#c49a6c" opacity="0.9"/>
                    <ellipse cx="350" cy="600" rx="30" ry="15" fill="#d4a574"/>
                    <ellipse cx="850" cy="600" rx="45" ry="28" fill="#8d6e4f" opacity="0.9"/>
                    <ellipse cx="850" cy="595" rx="40" ry="23" fill="#a68968"/>
                </g>

                <!-- Glowing Lights -->
                <circle cx="200" cy="200" r="30" fill="url(#lightGlow)" class="glow-animation"/>
                <circle cx="450" cy="150" r="25" fill="url(#lightGlow)" class="glow-animation" style="animation-delay: 0.5s"/>
                <circle cx="750" cy="180" r="35" fill="url(#lightGlow)" class="glow-animation" style="animation-delay: 1s"/>
                <circle cx="1000" cy="220" r="28" fill="url(#lightGlow)" class="glow-animation" style="animation-delay: 1.5s"/>

                <!-- Sunlight rays -->
                <g opacity="0.4">
                    <path d="M 300 0 L 350 800" stroke="#ffe4b5" stroke-width="40" opacity="0.2"/>
                    <path d="M 500 0 L 550 800" stroke="#ffe4b5" stroke-width="60" opacity="0.15"/>
                    <path d="M 700 0 L 750 800" stroke="#ffe4b5" stroke-width="50" opacity="0.2"/>
                </g>

                <!-- Steam from cups -->
                <g id="steam1" opacity="0.5">
                    <path d="M 180 550 Q 185 530 180 510" stroke="#e6e6e6" stroke-width="2" fill="none" stroke-linecap="round"/>
                    <path d="M 190 550 Q 195 530 190 510" stroke="#e6e6e6" stroke-width="2" fill="none" stroke-linecap="round"/>
                    <animateTransform attributeName="transform" type="translate" values="0,0; 0,-100" dur="3s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" values="0.5;0" dur="3s" repeatCount="indefinite"/>
                </g>
                <g id="steam2" opacity="0.5">
                    <path d="M 920 540 Q 925 520 920 500" stroke="#e6e6e6" stroke-width="2" fill="none" stroke-linecap="round"/>
                    <path d="M 930 540 Q 935 520 930 500" stroke="#e6e6e6" stroke-width="2" fill="none" stroke-linecap="round"/>
                    <animateTransform attributeName="transform" type="translate" values="0,0; 0,-100" dur="4s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" values="0.5;0" dur="4s" repeatCount="indefinite"/>
                </g>

                <!-- Story Hint -->
                <text x="600" y="50" class="story-hint">A cozy café awaits... What calls to you?</text>

                <!-- CLICKABLE: Menu -->
                <g id="menu-clickable" class="clickable" onclick="goToScene('scene2b')">
                    <image href="menu.png" x="420" y="480" width="200" height="170" opacity="0.9" class="shimmer-animation"/>
                    <rect x="420" y="480" width="200" height="170" class="click-border" rx="8"/>
                    <text x="520" y="670" class="click-label">READ MENU</text>
                </g>

                <!-- CLICKABLE: Bell (floating) -->
                <g id="bell" class="clickable float-animation" onclick="goToScene('scene2a')">
                    <ellipse cx="800" cy="590" rx="40" ry="20" fill="#ffcc00" opacity="0.3"/>
                    <path d="M 760 565 Q 760 535 780 528 L 820 528 Q 840 535 840 565 L 840 580 Q 840 588 832 595 L 768 595 Q 760 588 760 580 Z"
                          fill="#ffd700" filter="url(#softGlow)"/>
                    <circle cx="800" cy="585" r="8" fill="#b8860b"/>
                    <rect x="793" y="520" width="14" height="12" fill="#ffd700" rx="3"/>
                    <circle cx="800" cy="520" r="6" fill="#ffcc00"/>
                    <ellipse cx="800" cy="565" rx="50" ry="50" class="click-border"/>
                    <text x="800" y="640" class="click-label">RING BELL</text>
                </g>
            </svg>
        </div>

        <!-- SCENE 2A: CLICK THE BELL -->
        <div id="scene2a" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Background -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.7"/>
                <rect width="1200" height="800" fill="url(#warmLight)" opacity="0.4"/>

                <!-- Story Hint -->
                <text x="600" y="50" class="story-hint">The bell rings... Magic stirs in the café</text>

                <!-- Bell ringing effect -->
                <g id="ringing-bell">
                    <circle cx="600" cy="200" r="100" fill="#ffd700" opacity="0.2">
                        <animate attributeName="r" values="100;150;100" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.2;0;0.2" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <path d="M 550 200 Q 550 150 575 140 L 625 140 Q 650 150 650 200 L 650 220 Q 650 230 640 240 L 560 240 Q 550 230 550 220 Z"
                          fill="#ffd700" filter="url(#softGlow)">
                        <animateTransform attributeName="transform" type="rotate"
                                        values="0 600 180; -15 600 180; 15 600 180; -10 600 180; 10 600 180; 0 600 180"
                                        dur="2s" repeatCount="indefinite"/>
                    </path>
                </g>

                <!-- Cups shifting on shelves -->
                <g id="shifting-cups">
                    <image href="coffee.png" x="750" y="100" width="100" height="100" opacity="0.8">
                        <animateTransform attributeName="transform" type="translate" values="0,0; 15,0; 0,0" dur="3s" repeatCount="indefinite"/>
                    </image>
                    <image href="coffee.png" x="900" y="120" width="90" height="90" opacity="0.8">
                        <animateTransform attributeName="transform" type="translate" values="0,0; -20,0; 0,0" dur="4s" repeatCount="indefinite"/>
                    </image>
                    <image href="coffee.png" x="1050" y="140" width="95" height="95" opacity="0.8">
                        <animateTransform attributeName="transform" type="translate" values="0,0; 10,-5; 0,0" dur="3.5s" repeatCount="indefinite"/>
                    </image>
                </g>

                <!-- CLICKABLE: Barista (MUCH BIGGER!) -->
                <g id="barista-clickable" class="clickable" onclick="goToScene('scene3')">
                    <image href="barista.png" x="50" y="280" width="450" height="500" opacity="0.9"/>
                    <rect x="50" y="280" width="450" height="500" class="click-border" rx="15"/>
                    <text x="275" y="270" class="click-label">TALK TO BARISTA</text>
                </g>

                <!-- Glowing cup appearing in front -->
                <g id="glowing-cup" class="clickable shimmer-animation" onclick="goToScene('scene3')">
                    <circle cx="750" cy="550" r="140" fill="#ffe4b5" opacity="0.3" class="glow-animation"/>
                    <image href="coffee.png" x="640" y="440" width="220" height="220"/>
                    <circle cx="750" cy="550" r="100" fill="none" stroke="#ffd700" stroke-width="4" opacity="0.6">
                        <animate attributeName="r" values="100;120;100" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="0.6;0.2;0.6" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <ellipse cx="750" cy="550" rx="120" ry="120" class="click-border"/>
                    <text x="750" y="690" class="click-label">TAKE THE CUP</text>
                </g>

                <!-- CLICKABLE: Small leather key -->
                <g id="key" class="clickable float-animation" onclick="goToScene('scene3')">
                    <ellipse cx="1050" cy="450" rx="45" ry="24" fill="#8b4513" opacity="0.9"/>
                    <rect x="1043" y="430" width="14" height="40" fill="#6d3710" rx="3"/>
                    <circle cx="1050" cy="424" r="11" fill="#8b4513"/>
                    <circle cx="1050" cy="424" r="6" fill="#2d1810"/>
                    <ellipse cx="1050" cy="445" rx="55" ry="55" class="click-border"/>
                    <text x="1050" y="520" class="click-label">TAKE THE KEY</text>
                </g>
            </svg>
        </div>

        <!-- SCENE 2B: PICK UP THE MENU -->
        <div id="scene2b" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Blurred background -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.4" filter="blur(8px)"/>
                <rect width="1200" height="800" fill="#2d2416" opacity="0.5"/>

                <!-- Story Hint -->
                <text x="600" y="100" class="story-hint">The menu shimmers with enchanted offerings...</text>

                <!-- POV holding menu -->
                <g id="menu-pov">
                    <image href="menu.png" x="150" y="120" width="900" height="650"/>

                    <!-- Magical fading text effect -->
                    <g id="fading-items" opacity="0.7">
                        <rect x="250" y="220" width="250" height="40" fill="#8b4513" rx="5">
                            <animate attributeName="opacity" values="0.7;0;0.7" dur="3s" repeatCount="indefinite"/>
                        </rect>
                        <rect x="250" y="280" width="230" height="40" fill="#8b4513" rx="5">
                            <animate attributeName="opacity" values="0.7;0;0.7" dur="3.5s" repeatCount="indefinite" begin="0.5s"/>
                        </rect>
                        <rect x="250" y="340" width="270" height="40" fill="#8b4513" rx="5">
                            <animate attributeName="opacity" values="0.7;0;0.7" dur="4s" repeatCount="indefinite" begin="1s"/>
                        </rect>
                    </g>

                    <!-- CLICKABLE: Glowing menu option -->
                    <g id="glowing-option" class="clickable shimmer-animation" onclick="goToScene('scene3')">
                        <rect x="220" y="530" width="760" height="90" fill="#ffd700" opacity="0.3" rx="10"/>
                        <rect x="230" y="545" width="740" height="60" fill="#ffe4b5" opacity="0.5" rx="8"/>
                        <circle cx="280" cy="575" r="30" fill="#ffd700" opacity="0.4" class="glow-animation"/>
                        <circle cx="920" cy="575" r="30" fill="#ffd700" opacity="0.4" class="glow-animation"/>
                        <rect x="220" y="530" width="760" height="90" class="click-border" rx="10"/>
                        <text x="600" y="650" class="click-label">ORDER "THE DRINK YOU NEED"</text>
                    </g>
                </g>

                <!-- CLICKABLE: Set menu down -->
                <g id="set-down" class="clickable" onclick="goToScene('scene1')">
                    <circle cx="100" cy="700" r="60" fill="#4a3420" opacity="0.7"/>
                    <path d="M 100 675 L 100 725 M 82 710 L 100 725 L 118 710" stroke="#d4a574" stroke-width="4" fill="none"/>
                    <circle cx="100" cy="700" r="65" class="click-border"/>
                    <text x="100" y="640" class="click-label">PUT DOWN</text>
                </g>

                <!-- CLICKABLE: Look at other customers -->
                <g id="look-customers" class="clickable" onclick="goToScene('scene3')">
                    <circle cx="1100" cy="700" r="60" fill="#4a3420" opacity="0.7"/>
                    <circle cx="1082" cy="693" r="10" fill="#d4a574"/>
                    <circle cx="1118" cy="693" r="10" fill="#d4a574"/>
                    <path d="M 1070 715 Q 1100 728 1130 715" stroke="#d4a574" stroke-width="4" fill="none"/>
                    <circle cx="1100" cy="700" r="65" class="click-border"/>
                    <text x="1100" y="640" class="click-label">LOOK AROUND</text>
                </g>
            </svg>
        </div>

        <!-- SCENE 3: THE NOTEBOOK (CORE EVENT) -->
        <div id="scene3" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Background -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.6"/>
                <rect width="1200" height="800" fill="#2d2416" opacity="0.4"/>

                <!-- Story Hint -->
                <text x="600" y="50" class="story-hint">A leather notebook appears... It feels familiar. What will you do?</text>

                <!-- Table surface -->
                <ellipse cx="600" cy="600" rx="400" ry="150" fill="#4a3420" opacity="0.9"/>
                <ellipse cx="600" cy="590" rx="390" ry="140" fill="#5d4227"/>

                <!-- Leather notebook appearing -->
                <g id="notebook" class="shimmer-animation">
                    <rect x="400" y="380" width="400" height="250" fill="#6d4c28" rx="10" opacity="0.9"/>
                    <rect x="415" y="395" width="370" height="220" fill="#8b6239" rx="8"/>
                    <rect x="600" y="395" width="6" height="220" fill="#4a3420"/>
                    <line x1="440" y1="425" x2="580" y2="425" stroke="#6d4c28" stroke-width="3"/>
                    <line x1="440" y1="465" x2="580" y2="465" stroke="#6d4c28" stroke-width="3"/>
                    <line x1="440" y1="505" x2="580" y2="505" stroke="#6d4c28" stroke-width="3"/>

                    <!-- Glow effect -->
                    <circle cx="600" cy="505" r="220" fill="#ffe4b5" opacity="0.15" class="glow-animation"/>
                </g>

                <!-- Soft light -->
                <circle cx="600" cy="250" r="120" fill="url(#lightGlow)" opacity="0.6"/>

                <!-- CLICKABLE: Open notebook -->
                <g id="open-notebook" class="clickable" onclick="goToScene('endingA')">
                    <rect x="120" y="680" width="200" height="75" fill="#4a3420" opacity="0.8" rx="12"/>
                    <ellipse cx="220" cy="717" rx="50" ry="25" fill="#8b6239" opacity="0.9"/>
                    <path d="M 195 705 L 195 730 L 245 705 L 245 730" stroke="#d4a574" stroke-width="4" fill="none"/>
                    <rect x="120" y="680" width="200" height="75" class="click-border" rx="12"/>
                    <text x="220" y="665" class="click-label">OPEN & READ</text>
                </g>

                <!-- CLICKABLE: Burn notebook -->
                <g id="burn-notebook" class="clickable" onclick="goToScene('endingB')">
                    <rect x="360" y="680" width="200" height="75" fill="#4a3420" opacity="0.8" rx="12"/>
                    <path d="M 420 705 L 435 720 L 450 705 L 465 720 L 480 705 L 495 720 L 510 705"
                          stroke="#ff4500" stroke-width="4" fill="none" opacity="0.9"/>
                    <path d="M 425 720 L 440 735 L 455 720 L 470 735 L 485 720 L 500 735"
                          stroke="#ffa500" stroke-width="3" fill="none" opacity="0.7"/>
                    <rect x="360" y="680" width="200" height="75" class="click-border" rx="12"/>
                    <text x="460" y="665" class="click-label">BURN IT</text>
                </g>

                <!-- CLICKABLE: Take notebook and leave -->
                <g id="take-and-leave" class="clickable" onclick="goToScene('endingC')">
                    <rect x="600" y="680" width="200" height="75" fill="#4a3420" opacity="0.8" rx="12"/>
                    <path d="M 660 710 L 720 710 M 695 690 L 720 710 L 695 730" stroke="#d4a574" stroke-width="4" fill="none"/>
                    <rect x="650" y="715" width="40" height="28" fill="#8b6239" opacity="0.9" rx="3"/>
                    <rect x="600" y="680" width="200" height="75" class="click-border" rx="12"/>
                    <text x="700" y="665" class="click-label">TAKE & LEAVE</text>
                </g>

                <!-- CLICKABLE: Leave notebook untouched -->
                <g id="leave-untouched" class="clickable" onclick="goToScene('endingD')">
                    <rect x="840" y="680" width="200" height="75" fill="#4a3420" opacity="0.8" rx="12"/>
                    <circle cx="940" cy="717" r="32" fill="none" stroke="#d4a574" stroke-width="4"/>
                    <line x1="915" y1="742" x2="965" y2="692" stroke="#d4a574" stroke-width="4"/>
                    <rect x="840" y="680" width="200" height="75" class="click-border" rx="12"/>
                    <text x="940" y="665" class="click-label">WALK AWAY</text>
                </g>
            </svg>
        </div>

        <!-- ENDING A: HEALING -->
        <div id="endingA" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Warm background -->
                <rect width="1200" height="800" fill="#fff4e6"/>
                <rect width="1200" height="800" fill="url(#warmLight)" opacity="0.5"/>

                <!-- Story Hint -->
                <text x="600" y="80" class="story-hint" style="font-size: 28px;">You opened the notebook and found your memories...</text>
                <text x="600" y="120" class="story-hint" style="font-size: 22px;">You leave lighter, healed by what you remembered.</text>

                <!-- Open notebook with memories -->
                <g id="open-pages">
                    <rect x="200" y="200" width="800" height="500" fill="#f5e6d3" rx="10"/>
                    <rect x="200" y="200" width="390" height="500" fill="#faf0e6" rx="10"/>
                    <rect x="610" y="200" width="390" height="500" fill="#faf0e6" rx="10"/>

                    <!-- Soft sketches - childhood moments -->
                    <g opacity="0.6">
                        <circle cx="350" cy="320" r="40" stroke="#8b7355" stroke-width="2" fill="none"/>
                        <ellipse cx="350" cy="330" rx="15" ry="10" fill="#8b7355"/>
                        <path d="M 330 360 Q 350 380 370 360" stroke="#8b7355" stroke-width="2" fill="none"/>

                        <rect x="280" y="420" width="60" height="80" stroke="#8b7355" stroke-width="2" fill="none" rx="5"/>
                        <path d="M 280 450 L 340 450" stroke="#8b7355" stroke-width="2"/>

                        <circle cx="450" cy="320" r="35" stroke="#8b7355" stroke-width="2" fill="none"/>
                        <circle cx="445" cy="315" r="5" fill="#8b7355"/>
                        <circle cx="455" cy="315" r="5" fill="#8b7355"/>
                        <path d="M 440 330 Q 450 338 460 330" stroke="#8b7355" stroke-width="2" fill="none"/>
                    </g>

                    <!-- Friendship symbols -->
                    <g opacity="0.5">
                        <path d="M 700 300 Q 700 270 720 260 Q 740 270 740 300 Q 740 320 720 340 Q 700 320 700 300"
                              fill="#c49a6c"/>
                        <circle cx="800" cy="300" r="30" stroke="#8b7355" stroke-width="2" fill="none"/>
                        <line x1="775" y1="300" x2="825" y2="300" stroke="#8b7355" stroke-width="2"/>
                    </g>

                    <!-- Quiet sadness and healing -->
                    <g opacity="0.4">
                        <path d="M 650 450 Q 670 430 690 450" stroke="#a68968" stroke-width="2" fill="none"/>
                        <circle cx="720" cy="450" r="3" fill="#a68968"/>
                        <circle cx="730" cy="450" r="3" fill="#a68968"/>
                        <circle cx="740" cy="450" r="3" fill="#a68968"/>

                        <path d="M 780 480 Q 800 460 820 480 Q 820 510 800 530 Q 780 510 780 480"
                              stroke="#c49a6c" stroke-width="2" fill="none"/>
                    </g>

                    <!-- Gentle lines suggesting writing -->
                    <line x1="250" y1="580" x2="380" y2="580" stroke="#d4a574" stroke-width="1" opacity="0.3"/>
                    <line x1="250" y1="600" x2="360" y2="600" stroke="#d4a574" stroke-width="1" opacity="0.3"/>
                    <line x1="250" y1="620" x2="370" y2="620" stroke="#d4a574" stroke-width="1" opacity="0.3"/>
                    <line x1="650" y1="580" x2="780" y2="580" stroke="#d4a574" stroke-width="1" opacity="0.3"/>
                    <line x1="650" y1="600" x2="760" y2="600" stroke="#d4a574" stroke-width="1" opacity="0.3"/>
                </g>

                <!-- Viewer leaving - peaceful light -->
                <g id="leaving-figure" opacity="0.8">
                    <ellipse cx="1000" cy="700" rx="60" ry="30" fill="#4a3420" opacity="0.3"/>
                    <ellipse cx="1000" cy="650" rx="50" ry="80" fill="#8b6239"/>
                    <circle cx="1000" cy="590" r="35" fill="#d4a574"/>
                </g>

                <!-- Healing light -->
                <circle cx="1000" cy="630" r="150" fill="#ffe4b5" opacity="0.3" class="glow-animation"/>
                <circle cx="600" cy="450" r="200" fill="#fff4e6" opacity="0.4" class="glow-animation"/>

                <!-- Light rays -->
                <path d="M 0 0 L 200 800" stroke="#ffe4b5" stroke-width="60" opacity="0.2"/>
                <path d="M 400 0 L 600 800" stroke="#fff4e6" stroke-width="80" opacity="0.2"/>
                <path d="M 800 0 L 1000 800" stroke="#ffe4b5" stroke-width="70" opacity="0.2"/>
            </svg>
        </div>

        <!-- ENDING B: RELEASE -->
        <div id="endingB" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Dissolving café -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.2"/>

                <!-- Warm sunlight taking over -->
                <rect width="1200" height="800" fill="#fff4e6"/>
                <circle cx="600" cy="300" r="250" fill="#ffd700" opacity="0.4"/>
                <circle cx="600" cy="300" r="350" fill="#ffe4b5" opacity="0.3"/>

                <!-- Story Hint -->
                <text x="600" y="60" class="story-hint" style="font-size: 28px;">You burned the notebook...</text>
                <text x="600" y="100" class="story-hint" style="font-size: 22px;">The café dissolves. You stand free, unburdened.</text>

                <!-- Burning notebook turning to ash -->
                <g id="burning">
                    <rect x="500" y="500" width="200" height="150" fill="#8b6239" opacity="0.3"/>

                    <!-- Flames -->
                    <path d="M 550 480 Q 560 450 570 480 Q 575 460 580 480 Q 585 450 590 480"
                          fill="#ff4500" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;0.8;0.6" dur="1s" repeatCount="indefinite"/>
                    </path>
                    <path d="M 630 470 Q 640 440 650 470 Q 655 450 660 470"
                          fill="#ffa500" opacity="0.7">
                        <animate attributeName="opacity" values="0.7;0.9;0.7" dur="1.2s" repeatCount="indefinite"/>
                    </path>

                    <!-- Ash particles -->
                    <g class="ash">
                        <circle cx="580" cy="520" r="2" fill="#4a4a4a" opacity="0.5">
                            <animateTransform attributeName="transform" type="translate" values="0,0; 30,-200" dur="4s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="0.5;0" dur="4s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="620" cy="530" r="2" fill="#4a4a4a" opacity="0.5">
                            <animateTransform attributeName="transform" type="translate" values="0,0; -40,-180" dur="5s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="0.5;0" dur="5s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="600" cy="540" r="2" fill="#4a4a4a" opacity="0.5">
                            <animateTransform attributeName="transform" type="translate" values="0,0; 20,-220" dur="4.5s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="0.5;0" dur="4.5s" repeatCount="indefinite"/>
                        </circle>
                    </g>
                </g>

                <!-- Viewer standing outside - free -->
                <g id="free-figure">
                    <ellipse cx="600" cy="720" rx="60" ry="25" fill="#4a3420" opacity="0.2"/>
                    <ellipse cx="600" cy="670" rx="50" ry="80" fill="#8b6239"/>
                    <circle cx="600" cy="610" r="35" fill="#d4a574"/>

                    <!-- Empty hands -->
                    <ellipse cx="550" cy="670" rx="15" ry="25" fill="#d4a574"/>
                    <ellipse cx="650" cy="670" rx="15" ry="25" fill="#d4a574"/>
                </g>

                <!-- Peaceful sky -->
                <rect y="0" width="1200" height="400" fill="#87ceeb" opacity="0.4"/>
                <circle cx="300" cy="150" r="40" fill="#ffffff" opacity="0.6"/>
                <circle cx="340" cy="160" r="50" fill="#ffffff" opacity="0.6"/>
                <circle cx="380" cy="150" r="45" fill="#ffffff" opacity="0.6"/>

                <circle cx="800" cy="200" r="35" fill="#ffffff" opacity="0.6"/>
                <circle cx="840" cy="210" r="45" fill="#ffffff" opacity="0.6"/>

                <!-- Light beams -->
                <path d="M 200 0 L 300 800" stroke="#ffe4b5" stroke-width="100" opacity="0.3"/>
                <path d="M 600 0 L 700 800" stroke="#fff4e6" stroke-width="120" opacity="0.3"/>
                <path d="M 1000 0 L 1100 800" stroke="#ffe4b5" stroke-width="90" opacity="0.3"/>
            </svg>
        </div>

        <!-- ENDING C: FRESH START -->
        <div id="endingC" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Open street -->
                <rect width="1200" height="800" fill="#e6f2ff"/>
                <rect y="500" width="1200" height="300" fill="#b0a898"/>
                <rect y="520" width="1200" height="280" fill="#c8bfae"/>

                <!-- Story Hint -->
                <text x="600" y="60" class="story-hint" style="font-size: 28px;">You took the blank notebook and left...</text>
                <text x="600" y="100" class="story-hint" style="font-size: 22px;">When you look back, the café is gone. A fresh start awaits.</text>

                <!-- Buildings in distance -->
                <rect x="100" y="300" width="150" height="220" fill="#8b8680" opacity="0.6"/>
                <rect x="280" y="250" width="120" height="270" fill="#9d9589" opacity="0.6"/>
                <rect x="850" y="280" width="180" height="240" fill="#8b8680" opacity="0.6"/>
                <rect x="450" y="320" width="140" height="200" fill="#9d9589" opacity="0.6"/>

                <!-- Sky -->
                <circle cx="900" cy="150" r="70" fill="#ffd700" opacity="0.5"/>
                <circle cx="200" cy="180" r="50" fill="#ffffff" opacity="0.7"/>
                <circle cx="250" cy="190" r="60" fill="#ffffff" opacity="0.7"/>
                <circle cx="300" cy="180" r="55" fill="#ffffff" opacity="0.7"/>

                <!-- Viewer walking forward with blank notebook -->
                <g id="walking-figure">
                    <ellipse cx="600" cy="720" rx="60" ry="25" fill="#4a3420" opacity="0.3"/>
                    <ellipse cx="600" cy="670" rx="50" ry="80" fill="#8b6239"/>
                    <circle cx="600" cy="610" r="35" fill="#d4a574"/>

                    <!-- Holding blank notebook -->
                    <rect x="520" y="650" width="50" height="35" fill="#f5e6d3" rx="3"/>
                    <rect x="520" y="650" width="50" height="35" fill="#8b6239" opacity="0.3" rx="3"/>
                </g>

                <!-- Path ahead -->
                <path d="M 0 700 Q 600 650 1200 700" fill="#a69a88" opacity="0.5"/>
                <path d="M 0 750 Q 600 720 1200 750" fill="#9d9187" opacity="0.4"/>

                <!-- Where café was (empty space with shimmer) -->
                <g id="empty-space" opacity="0.2">
                    <rect x="50" y="350" width="250" height="180" fill="#ffe4b5" rx="15">
                        <animate attributeName="opacity" values="0.2;0.4;0.2" dur="3s" repeatCount="indefinite"/>
                    </rect>
                </g>

                <!-- Light suggesting new possibilities -->
                <circle cx="600" cy="400" r="200" fill="#ffe4b5" opacity="0.2" class="glow-animation"/>
                <path d="M 400 0 L 500 800" stroke="#fff4e6" stroke-width="60" opacity="0.2"/>
                <path d="M 700 0 L 800 800" stroke="#ffe4b5" stroke-width="80" opacity="0.2"/>
            </svg>
        </div>

        <!-- ENDING D: THE CAFÉ WRITES YOUR STORY -->
        <div id="endingD" class="scene">
            <svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Café interior -->
                <image href="background.png" x="0" y="0" width="1200" height="800" opacity="0.7"/>
                <rect width="1200" height="800" fill="url(#warmLight)" opacity="0.4"/>

                <!-- Story Hint -->
                <text x="600" y="50" class="story-hint" style="font-size: 28px;">You walked away...</text>
                <text x="600" y="90" class="story-hint" style="font-size: 22px;">The barista writes your story. The bell rings once. The café waits.</text>

                <!-- Table with notebook -->
                <ellipse cx="600" cy="500" rx="300" ry="100" fill="#4a3420" opacity="0.9"/>
                <rect x="500" y="420" width="200" height="120" fill="#8b6239" rx="6"/>

                <!-- Barista approaching (BIGGER) -->
                <g id="barista-writing">
                    <image href="barista.png" x="250" y="300" width="300" height="350" opacity="0.9"/>

                    <!-- Hand reaching for notebook -->
                    <ellipse cx="480" cy="470" rx="25" ry="15" fill="#d4a574">
                        <animateTransform attributeName="transform" type="translate" values="0,0; 20,0; 0,0" dur="4s" repeatCount="indefinite"/>
                    </ellipse>
                </g>

                <!-- Notebook glowing -->
                <rect x="500" y="420" width="200" height="120" fill="none" stroke="#ffd700" stroke-width="2" rx="6" opacity="0.6">
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                </rect>

                <!-- Shelf with many other notebooks -->
                <g id="shelf">
                    <rect x="800" y="250" width="350" height="15" fill="#5d4227"/>
                    <rect x="800" y="350" width="350" height="15" fill="#5d4227"/>
                    <rect x="800" y="450" width="350" height="15" fill="#5d4227"/>

                    <!-- Many notebooks on shelves -->
                    <rect x="820" y="210" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="860" y="210" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="900" y="210" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="940" y="210" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="980" y="210" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="1020" y="210" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="1060" y="210" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="1100" y="210" width="30" height="40" fill="#6d4c28" rx="2"/>

                    <rect x="820" y="310" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="860" y="310" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="900" y="310" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="940" y="310" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="980" y="310" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="1020" y="310" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="1060" y="310" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="1100" y="310" width="30" height="40" fill="#8b6239" rx="2"/>

                    <rect x="820" y="410" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="860" y="410" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="900" y="410" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="940" y="410" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="980" y="410" width="30" height="40" fill="#6d4c28" rx="2"/>
                    <rect x="1020" y="410" width="30" height="40" fill="#a0826d" rx="2"/>
                    <rect x="1060" y="410" width="30" height="40" fill="#8b6239" rx="2"/>
                    <rect x="1100" y="410" width="30" height="40" fill="#6d4c28" rx="2"/>
                </g>

                <!-- Bell ringing once -->
                <g id="final-bell">
                    <circle cx="200" cy="300" r="60" fill="#ffd700" opacity="0.2">
                        <animate attributeName="r" values="60;100;60" dur="3s" begin="0s" repeatCount="1"/>
                        <animate attributeName="opacity" values="0.2;0;0.2" dur="3s" begin="0s" repeatCount="1"/>
                    </circle>
                    <path d="M 170 300 Q 170 270 185 265 L 215 265 Q 230 270 230 300 L 230 310 Q 230 315 225 320 L 175 320 Q 170 315 170 310 Z"
                          fill="#ffd700" filter="url(#softGlow)"/>
                </g>

                <!-- Warm, soft, mysterious atmosphere -->
                <circle cx="300" cy="200" r="80" fill="url(#lightGlow)" class="glow-animation"/>
                <circle cx="700" cy="180" r="70" fill="url(#lightGlow)" class="glow-animation" style="animation-delay: 1s"/>
                <circle cx="1000" cy="250" r="60" fill="url(#lightGlow)" class="glow-animation" style="animation-delay: 2s"/>

                <!-- Soft magical sparkles -->
                <g class="sparkles">
                    <circle cx="550" cy="350" r="3" fill="#ffd700" opacity="0.8">
                        <animate attributeName="opacity" values="0;0.8;0" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="650" cy="380" r="3" fill="#ffe4b5" opacity="0.8">
                        <animate attributeName="opacity" values="0;0.8;0" dur="2.5s" repeatCount="indefinite" begin="0.5s"/>
                    </circle>
                    <circle cx="600" cy="320" r="3" fill="#ffd700" opacity="0.8">
                        <animate attributeName="opacity" values="0;0.8;0" dur="3s" repeatCount="indefinite" begin="1s"/>
                    </circle>
                </g>
            </svg>
        </div>
    </div>

    <script>
        function goToScene(sceneId) {
            // Fade out current scene
            const currentScene = document.querySelector('.scene.active');
            if (currentScene) {
                currentScene.classList.remove('active');
            }

            // Fade in new scene after a brief delay
            setTimeout(() => {
                const newScene = document.getElementById(sceneId);
                if (newScene) {
                    newScene.classList.add('active');
                }
            }, 500);
        }

        // Preload images
        window.addEventListener('load', () => {
            const images = ['background.png', 'barista.png', 'coffee.png', 'menu.png'];
            images.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        });
    </script>
</body>
</html>
